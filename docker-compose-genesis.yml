services:
  genesis-node:
    image: inferenced-genesis
    container_name: genesis-node
    volumes:
      - ./prod-genesis:/root/.inference
    networks:
      - chain-public
    ports:
      - "26656:26656" #p2p
      - "26657:26657" #rpc

  genesis-api:
    image: dapi-join
    container_name: genesis-api
    volumes:
      - ./prod-genesis:/root/.inference
    ports:
      - "8080:8080"
    environment:
      - KEY_NAME=genesis
      - NODE_HOST=genesis-node
    networks:
      - chain-public
  wiremock:
    container_name: genesis-wiremock
    image: "wiremock/wiremock:latest"
    ports:
      - "8090:8080"
    entrypoint: [ "/docker-entrypoint.sh", "--global-response-templating", "--disable-gzip", "--verbose" ]
    networks:
      - chain-public
  binary-server:
    image: httpd:latest
    container_name: binary-server
    ports:
      - '8781:80'
    volumes:
      - ./public-html:/usr/local/apache2/htdocs/
    networks:
      - chain-public

networks:
    chain-public:
        name: chain-public